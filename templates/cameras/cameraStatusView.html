{%extends '../base.html'%}
{%block title%}Network Center | {{dept}}{%endblock%}
{%block navLinks%}
<li class="navigation-links"><a href="{%url 'new-cluster'%}">Add new Cluster</a></li>
<li class="navigation-links"><a href="{%url 'new-camera'%}">Add new Camera</a></li>
{%for dept in deptList%}
<li class="navigation-links"><a href="{%url 'status-view' dept.name%}">{{dept.name}} Department</a></li>
{%endfor%}
<li class="navigation-links"><a href="{%url 'logout'%}">Logout</a></li>
{%endblock%}

{%block content%}
<span id="dept" style="display: none;">{{dept}}</span>
    <section>
        <h1>{{dept}} Department Cameras</h1>

        <div  class = "cameras-display-container">
            {%for camera in offlineCameras%}
            <a href="{%url 'edit-page' camera.id%}">
                <div class="card offline">
                    <img src="/static/img/cctv.svg" alt="cctv icon" class="cctv-icon">
                    {{camera.name}}
                </div>
            </a>
            {%endfor%}

            {%for camera in onlineCameras%}
            <a href="{%url 'feed-page' camera.id%}">
                <div class="card online">
                    <img src="/static/img/cctv.svg" alt="cctv icon" class="cctv-icon">
                    {{camera.name}}
                </div>
            </a>
            {%endfor%}
        </div>
    </section>
{%endblock%}

{%block scripts%}
<script>
    setTimeout(function(){
        if(document.querySelector('#dept').innerHTML == 'ISE'){
            console.log(document.querySelector('#dept').innerHTML)
            console.log(document.querySelector('#dept').innerHTML == 'ISE')
            window.location.href = '/cameras/TCE';
        }
        else if(document.querySelector('#dept').innerHTML == 'CSE'){
            console.log(document.querySelector('#dept').innerHTML)
            console.log(document.querySelector('#dept').innerHTML == 'TCE')
            window.location.href = '/cameras/TCE';
        }
        else if(document.querySelector('#dept').innerHTML == 'CSE'){
            console.log(document.querySelector('#dept').innerHTML)
            console.log(document.querySelector('#dept').innerHTML == 'CE')
            window.location.href = '/cameras/CE';
        }
        else if(document.querySelector('#dept').innerHTML == 'CE'){
            console.log(document.querySelector('#dept').innerHTML)
            console.log(document.querySelector('#dept').innerHTML == 'TCE')
            window.location.href = '/cameras/TCE';
        }
        else if(document.querySelector('#dept').innerHTML == 'TCE'){
            console.log(document.querySelector('#dept').innerHTML)
            console.log(document.querySelector('#dept').innerHTML == 'TCE')
            window.location.href = '/cameras/BT';
        }
        else if(document.querySelector('#dept').innerHTML == 'BT'){
            console.log(document.querySelector('#dept').innerHTML)
            console.log(document.querySelector('#dept').innerHTML == 'TCE')
            window.location.href = '/cameras/MCA';
        }
        else if(document.querySelector('#dept').innerHTML == 'MCA'){
            console.log(document.querySelector('#dept').innerHTML)
            console.log(document.querySelector('#dept').innerHTML == 'TCE')
            window.location.href = '/cameras/ME';
        }
        else if(document.querySelector('#dept').innerHTML == 'ME'){
            console.log(document.querySelector('#dept').innerHTML)
            console.log(document.querySelector('#dept').innerHTML == 'TCE')
            window.location.href = '/cameras/ISE';
        }
    }, 30000);
 </script>
{%endblock%}